<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/home"></ion-back-button>
          </ion-buttons>
      <ion-title>Profile</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="logOut()">
          <ion-icon slot="icon-only" name="log-out" color="danger"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

<ion-content padding>
  <div class="detail">
    <ion-list>
      <ion-list-header> Personal Information </ion-list-header>
      <ion-item>
        <ion-label>
          <ion-grid>
            <ion-row>
              <ion-col class="text-left" size="3"> Name: </ion-col>
              <ion-col
                class="text-left"
                size="7"
                *ngIf="userProfile?.name"
              >
                {{userProfile?.name}}
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-label>
      </ion-item>
  
      <ion-item>
        <ion-label>
          <ion-grid>
            <ion-row>
              <ion-col class="text-left" size="3"> Email: </ion-col>
              <ion-col class="text-left" size="7" *ngIf="userProfile?.email">
                {{userProfile?.email}}
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-label>
      </ion-item>
      
      <ion-item *ngIf="!contact">
          <ion-label>
            <ion-grid>
              <ion-row>
                <ion-col class="text-left" size="3"> Contact No: </ion-col>
                <ion-col class="text-left" size="7" *ngIf="userProfile?.contact_no">
                  +673 {{userProfile?.contact_no}}
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-label>
        </ion-item>

        <ion-item *ngIf="contact">
            <ion-label>
              <ion-grid>
                <ion-row>
                  <ion-col class="text-left" size="3"> Contact No: </ion-col>
                  <ion-col class="text-left" size="7" *ngIf="userProfile?.contact_no">
                      
                    <form [formGroup]="signupForm">
                        
                      <ion-item>
                          <ion-input
                            formControlName="contact_no"
                            type="number"
                            placeholder="Contact Number"
                            [class.invalid]="!signupForm.controls['contact_no'].valid && signupForm.controls['contact_no'].touched"
                           [(ngModel)]="no"
                          >
                          +673 &nbsp;
                          </ion-input>
                        </ion-item>
                        <div class="error-messages">
                            <ng-container *ngFor="let error of error_messages.contact_no">
                              <ion-item class="error-message" *ngIf="signupForm.get('contact_no').hasError(error.type) && (signupForm.get('contact_no').dirty || signupForm.get('contact_no').touched)">
                                {{ error.message }}
                              </ion-item>
                            </ng-container>
                          </div>
                        </form>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-label>

         
          </ion-item>
      <br>
      <ion-button class="change" float-left expand="block" color="tertiary" (click)="update()" [disabled]="!signupForm.valid" *ngIf="contact">Update</ion-button>
      <ion-button class="change" float-left expand="block" color="danger" *ngIf="contact" (click)="contactss()">Cancel</ion-button>
      <br>
      <ion-button class="edit" color="success" *ngIf="!contact" float-left expand="block" (click)="contacts()">Edit</ion-button>
      <ion-button class="pw" float-right *ngIf="!contact" expand="block" routerLink="/changepw-admin">Change Password</ion-button>

      
    </ion-list>
  </div>
  
  </ion-content>