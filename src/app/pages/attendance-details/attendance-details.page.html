<ion-header>
  <ion-toolbar>
    <ion-button class="menubutton" fill="clear" slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-button>
    <ion-buttons slot="end">
      <ion-button [routerLink]="['/attendance']">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Attendance Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>


  <ion-searchbar showCancelButton (ionInput)="filterList($event)" placeholder="Search Address">
  </ion-searchbar>

  <!-- <ion-card *ngFor="let item of attendancelist" [routerLink]="['/attendance-view', item.id]">
    <span>
      <ion-card-header>
        <ion-card-title>{{  item.address  }}</ion-card-title>
        <ion-card-subtitle>Student Time in: {{  item.timeinpicker  | date: 'MMM dd, yyyy.  h:mm a' }}
        </ion-card-subtitle>
        <ion-card-subtitle>Student Time out: {{  item.timeoutpicker | date: 'MMM dd, yyyy.  h:mm a' }}
        </ion-card-subtitle>
        <ion-card-subtitle>Server Time: {{  item.timestamp.toDate() | date: 'MMM dd, yyyy.  h:mm a' }}</ion-card-subtitle>
        <ion-button fill="clear" slot="end"> View </ion-button>
      </ion-card-header>
    </span>
  </ion-card> -->

  <div *ngIf="attendancelist" class="list-mini-content" padding>
    <div *ngIf="attendancelist.length > 0" class="list-mini">
      <ion-list>
        <ion-card>
          <ion-item *ngFor="let item of attendancelist" [routerLink]="['/attendance-timeout', item.id]">

            <ion-label>
              <!-- <ion-card-subtitle>Student Time in: {{  item.timeinpicker  | date: 'MMM dd, yyyy.  h:mm a' }}
              </ion-card-subtitle>
              <ion-card-subtitle>Student Time out: {{  item.timeoutpicker | date: 'MMM dd, yyyy.  h:mm a' }}
              </ion-card-subtitle> -->
              
              <!-- time in -->
              <ion-card-title>{{  item.timeinstamp?.toDate() | date: 'dd MMMM yyyy' }}</ion-card-title>
              <ion-card-subtitle>Address: {{  item.address  }}</ion-card-subtitle>
              <ion-card-subtitle>Time in: {{  item.timeinstamp?.toDate() | date: 'h:mm a' }}</ion-card-subtitle>
              <!-- <ion-card-subtitle>(coordinates: {{item.geoLatitude}},{{item.geoLongitude}})</ion-card-subtitle> -->

              <!-- time out -->
              <!-- <ion-card-subtitle>Date time out: {{  item.timeoutstamp?.toDate() | date: 'dd MMMM yyyy' }}</ion-card-subtitle> -->
              <ion-card-subtitle>Time out: {{  item.timeoutstamp?.toDate() | date: 'h:mm a' }}</ion-card-subtitle>
              <!-- <ion-card-subtitle>Address: {{  item.timeoutaddress }}</ion-card-subtitle>
              <ion-card-subtitle>(coordinates: {{item.timeoutLatitude}},{{item.timeoutLongitude}})</ion-card-subtitle> -->
            </ion-label>
            <ion-button fill="clear" slot="end"> Time Out </ion-button>

          </ion-item>
        </ion-card>
      </ion-list>
    </div>
    <div *ngIf="attendancelist.length == 0" class="empty-list">
      No attendance record currently.
    </div>
  </div>
</ion-content>